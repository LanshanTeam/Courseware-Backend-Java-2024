## ç¬¬å››èŠ‚è¯¾ï¼šæ³›å‹ã€å¼‚å¸¸å¤„ç†ã€é›†åˆæ¡†æ¶

> ç›¸ä¿¡å¤§å®¶ç»è¿‡å‰é¢å‡ å‘¨çš„å­¦ä¹ ï¼Œå¯¹Javaæˆ–å¤šæˆ–å°‘æœ‰äº†ä¸€å®šç¨‹åº¦çš„äº†è§£ã€‚æœ¬èŠ‚è¯¾ä¸»è¦ä»‹ç»Javaçš„ä¸€äº›é«˜çº§ç‰¹æ€§å’Œé›†åˆæ¡†æ¶ï¼Œä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹ä»Šå¤©çš„å­¦ä¹  ovo ï¼



### å¼‚å¸¸å¤„ç†

---

##### 1. ä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Ÿ

â€‹     Javaä¸­çš„å¼‚å¸¸åˆç§°ï¼š**" ä¾‹å¤– "**ï¼Œå‘ç”Ÿåœ¨ä¸€ä¸ªç¨‹åºæ‰§è¡Œçš„æœŸé—´ï¼Œå®ƒä¼šä¸­æ–­æ­£åœ¨æ‰§è¡Œç¨‹åºçš„**æ­£å¸¸æŒ‡ä»¤**ï¼Œæˆ–è€…**æŒ‡ä»¤æµ**( ä¹Ÿå°±æ˜¯ä¸€ä¸²æŒ‡ä»¤ ) , å³æŒ‡ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ„å¤–æƒ…å†µæˆ–é”™è¯¯ã€‚

åœ¨Javaä¸­ï¼Œä¸€ä¸ªå¼‚å¸¸çš„äº§ç”Ÿï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š

- Javaå†…éƒ¨é”™è¯¯å‘ç”Ÿå¼‚å¸¸ï¼ŒJavaè™šæ‹Ÿæœºäº§ç”Ÿçš„å¼‚å¸¸
- ç¼–å†™çš„ç¨‹åºä»£ç ä¸­çš„é”™è¯¯æ‰€äº§ç”Ÿçš„çš„å¼‚å¸¸ï¼Œä¾‹å¦‚`NullPointException` ç©ºæŒ‡é’ˆå¼‚å¸¸ã€`IndexBoundException` æ•°ç»„è¶Šç•Œå¼‚å¸¸ç­‰ç­‰
- é€šè¿‡`throw`è¯­å¥æ‰‹åŠ¨ç”Ÿæˆçš„å¼‚å¸¸ï¼Œä¸€èˆ¬ç”¨æ¥å‘ŠçŸ¥è¯¥æ–¹æ³•çš„è°ƒç”¨è€…ä¸€äº›å¿…è¦ä¿¡æ¯

---

##### 2. å¼‚å¸¸çš„åˆ†ç±»

â€‹    ä¸ºäº†èƒ½å¤ŸåŠæ—¶æœ‰æ•ˆåœ°å¤„ç†ç¨‹åºä¸­çš„è¿è¡Œé”™è¯¯ï¼Œè¿™ä¸ªæ—¶å€™å°±å¿…é¡»ä½¿ç”¨ **å¼‚å¸¸ç±» ( Exception )**ï¼Œè¿™å¯ä»¥è®©ç¨‹åºå…·æœ‰æå…¶å¯è§‚çš„**å®¹é”™æ€§å’Œå¥å£®æ€§**ã€‚

>  *Javaå¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„æ¦‚è§ˆå›¾* --- å›¾æºå°æ—coding

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/Snipaste_2024-10-26_17-08-50.png)

â€‹    åœ¨ Java ä¸­ï¼Œæ‰€æœ‰çš„å¼‚å¸¸éƒ½æœ‰ä¸€ä¸ª**å…±åŒ**çš„ç¥–å…ˆâ€” â€º `java.lang` åŒ…ä¸­çš„ `Throwable` ç±»ã€‚æŒ‰ç…§é”™è¯¯çš„ä¸¥é‡æ€§ï¼Œä» `Throwable` çˆ¶ç±»ä¸­è¡ç”Ÿå‡º`Error`å’Œ`Exception`ä¸¤å¤§æ´¾ç³»

- `Error`( é”™è¯¯ )

  ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„ç¡¬ä»¶æˆ–æ“ä½œç³»ç»Ÿçš„é”™è¯¯ã€‚é”™è¯¯å¯¹ç¨‹åºè€Œè¨€æ˜¯è‡´å‘½çš„ï¼Œå°†å¯¼è‡´ç¨‹åºæ— æ³•è¿è¡Œã€‚

  å¸¸è§çš„é”™è¯¯ eg :  

  |      å¼‚å¸¸ç±»å‹åç§°      |         å¼‚å¸¸è¯´æ˜          |
  | :--------------------: | :-----------------------: |
  |   `OutOfMemoryErro`    |         å†…å­˜æº¢å‡º          |
  | `Vitural MachineError` | JVMè™šæ‹Ÿæœºè‡ªèº«çš„éæ­£å¸¸è¿è¡Œ |
  |  `NoSuchMethodError`   |    classæ–‡ä»¶æ²¡æœ‰ä¸»æ–¹æ³•    |
  |          ...           |            ...            |

  ç¨‹åºæœ¬èº«æ˜¯ä¸èƒ½å¤„ç†é”™è¯¯çš„ï¼Œåªèƒ½ä¾é å¤–ç•Œå¹²é¢„ã€‚Erroræ˜¯ç³»ç»Ÿå†…éƒ¨çš„é”™è¯¯ï¼Œç”±JVMæŠ›å‡ºï¼Œäº¤ç»™ç³»ç»Ÿæ¥å¤„ç†ã€‚

  > *JVMç›¸å…³çŸ¥è¯†æš‚ä¸å…·ä½“é˜è¿° æ„Ÿå…´è¶£çš„åŒå­¦å¯å…ˆè‡ªè¡Œäº†è§£*

- `Exception` ( å¼‚å¸¸ )

  ç¨‹åºæ­£å¸¸è¿è¡Œä¸­ï¼Œå¯ä»¥é¢„æ–™çš„æ„å¤–æƒ…å†µï¼Œç¨‹åºæœ¬èº«å¯ä»¥è¿›è¡Œå¤„ç†ã€‚åŒæ—¶å¼‚å¸¸æŒ‰ç…§æ€§è´¨ï¼Œåˆåˆ†ä¸º éè¿è¡Œæ—¶å¼‚å¸¸ ( å¯æ£€æŸ¥ ) å’Œè¿è¡Œæ—¶å¼‚å¸¸ ( ä¸å¯æ£€æŸ¥ )ã€‚

  * éè¿è¡Œæ—¶å¼‚å¸¸

    è¿™ç±»å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶ä¼šè¢«æ£€æŸ¥ï¼Œå¦‚æœæ²¡æœ‰è¢« **`catch`**æˆ–è€…**`throws` å…³é”®å­— **å¤„ç†çš„è¯ï¼Œå°±æ²¡åŠæ³•é€šè¿‡ç¼–è¯‘ã€‚ä»–ä»¬é€šå¸¸æ˜¯å¤–éƒ¨é”™è¯¯ 

    eg : 

    |       å¼‚å¸¸ç±»å‹åç§°       |         å¼‚å¸¸è¯´æ˜          |
    | :----------------------: | :-----------------------: |
    | `FileNotFoundException`  | æ–‡ä»¶ä¸å­˜åœ¨ ( IOç±»å‹å¼‚å¸¸ ) |
    | `ClassNotFoundException` |         ç±»æœªæ‰¾åˆ°          |
    |      `SQLException`      |      æ•°æ®åº“æ“ä½œå¼‚å¸¸       |
    |           ...            |            ...            |

  * è¿è¡Œæ—¶å¼‚å¸¸

    åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ ï¼Œå³ä½¿ä¸å¤„ç†è¯¥ç±»å¼‚å¸¸ä¹Ÿå¯ä»¥æ­£å¸¸é€šè¿‡ç¼–è¯‘ã€‚è¿è¡Œæ—¶å¼‚å¸¸ç”±ç¨‹åºé”™è¯¯å¯¼è‡´ï¼ŒåŒ…æ‹¬`RuntimeException` åŠå…¶å­ç±»å’Œ `Error` é”™è¯¯ 

    å¸¸è§ eg : 

    > *å¯ä»¥å¤šçœ¼ç†Ÿä¸€ä¸‹ æ—¥å¸¸å¼€å‘ä¸­å¯ä»¥æé«˜æ•ˆç‡*

    |           å¼‚å¸¸ç±»å‹åç§°           |                   å¼‚å¸¸è¯´æ˜                    |
    | :------------------------------: | :-------------------------------------------: |
    |      `NullPointerException`      |                  ç©ºæŒ‡é’ˆé”™è¯¯                   |
    |    `IllegalArgumentException`    |        å‚æ•°é”™è¯¯ ( å¦‚æ–¹æ³•å…¥å‚ç±»å‹é”™è¯¯ )        |
    |     `NumberFormatException`      | å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—æ ¼å¼é”™è¯¯ ( ä¸Šä¸€ä¸ªé”™è¯¯çš„å­ç±» ) |
    | `ArrayIndexOutOfBoundsException` |                 æ•°ç»„è¶Šç•Œé”™è¯¯                  |
    |       `ClassCastException`       |                 ç±»å‹è½¬æ¢é”™è¯¯                  |
    |      `ArithmeticException`       |                   ç®—æœ¯é”™è¯¯                    |
    |       `SecurityException`        |            å®‰å…¨é”™è¯¯ ( å¦‚æƒé™ä¸å¤Ÿ )            |
    |               ...                |                      ...                      |

  ä¸‹é¢ç®€å•å±•ç¤ºå‡ ä¸ªå¼‚å¸¸çš„ğŸŒ°

```java
package example.exception;

import java.util.ArrayList;
import java.util.List;

public class CommonException {
    public static void main(String[] args) {

        //NullPointerException--ç©ºæŒ‡é’ˆå¼‚å¸¸
        Integer a = null;
        System.out.println(a.toString());

        //ArithmeticException--ç®—æ•°å¼‚å¸¸
        int b = 10;
        int c = 0;
        int result = b / c;
        System.out.println("Result: " + result);

        //IndexOutOfBoundsException--ç´¢å¼•è¶Šç•Œå¼‚å¸¸
        List<Integer> list = new ArrayList<>();
        System.out.println(list.get(0));
    }
}
```



##### 3. è‡ªå®šä¹‰å¼‚å¸¸

â€‹    å¯èƒ½æœ‰çš„äººä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰å¼‚å¸¸ï¼Œä¸ä¼šå¾ˆå¤šä½™å—ï¼Ÿå®é™…ä¸Šï¼Œè‡ªå®šä¹‰å¼‚å¸¸çš„ç›®çš„æ˜¯ **ç»†åŒ–å¼‚å¸¸ä»¥ä¾¿æˆ‘ä»¬æ›´ç²¾ç¡®åœ°å¤„ç†å¼‚å¸¸** ï¼Œé€šä¿—æ¥è®²å°±æ˜¯å½“é‡åˆ°ä»£ç é‡ŒæŠ›å‡ºäº†`RuntimeException` è¿™ä¸ªå¼‚å¸¸ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆå»ç¡®å®šåˆ°åº•æ˜¯å‡ºäº†å“ªç§ç±»å‹çš„é—®é¢˜æˆ–æ˜¯å¤šç§é—®é¢˜çš„ç»“åˆå‘¢ã€‚

ä¸€ä¸ªå°ğŸŒ°

```java
public class MeiMiException extends RuntimeException{
    private Double money;

    public MeiMiException(Double money) {
        super("ä½™é¢ä¸è¶³ï¼Œè¿˜å·®ï¼š" + money);
        this.money = money;
    }

    public static class AccountAdmin {
        private Double balance;

        public AccountAdmin(Double balance) {
            this.balance = balance;
        }

        //å­˜é’±çš„æ–¹æ³•
        public void deposit(double money) {
            this.balance += money;
        }

        //å–é’±çš„æ–¹æ³•
        public void withdraw(double money) throws MeiMiException {
            if (balance >= money) {
                balance -= money;
            } else {
                double needMoney = money - balance;
                throw new MeiMiException(needMoney);
            }
        }
    }

    public static void main(String[] args) {
        AccountAdmin accountAdmin = new AccountAdmin(100.0);
        accountAdmin.deposit(200);//å…ˆå­˜äºŒä¼¯å—
        try {
            //å†å–å››ä¼¯å—
            accountAdmin.withdraw(400);
        } catch (MeiMiException e) {
            throw new RuntimeException(e);
        }
    }
}
```



##### 4. å¼‚å¸¸å¤„ç†

äº†è§£åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šæœ‰ è®²äº†è¿™ä¹ˆå¤šæˆ‘è¿˜æ˜¯ä¸çŸ¥é“åˆ°åº•è¯¥æ€ä¹ˆå¤„ç†å¼‚å¸¸ ~~æ„Ÿè§‰åœ¨å¬åºŸè¯(bushi~~ çš„æƒ³æ³•

ä¸‹é¢ä»‹ç» **Javaå¤„ç†å¼‚å¸¸çš„å¸¸ç”¨æ–¹æ³•**

- **try-catch-finally**

  ä½¿ç”¨ `try` å’Œ `catch ` å…³é”®å­—å¯ä»¥æ•è·å¼‚å¸¸ã€‚try/catch ä»£ç å—æ”¾åœ¨å¼‚å¸¸å¯èƒ½å‘ç”Ÿçš„åœ°æ–¹ã€‚try/catchä»£ç å—ä¸­çš„ä»£ç ç§°ä¸ºä¿æŠ¤ä»£ç 

  ```java
  try{
     // ç¨‹åºä»£ç 
  }catch(ExceptionName e1){
    // ç¨‹åºä»£ç 
  }catch(ExceptionName e2){
    // ç¨‹åºä»£ç 
  }catch(ExceptionName e3){
    // ç¨‹åºä»£ç 
  }finally{
    // ç¨‹åºä»£ç 
  }
  ```

  

  Catch è¯­å¥åŒ…å«è¦æ•è·å¼‚å¸¸ç±»å‹çš„å£°æ˜ã€‚å½“ä¿æŠ¤ä»£ç å—ä¸­å‘ç”Ÿä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œtry åé¢çš„ catch å—å°±ä¼šè¢«æ£€æŸ¥ã€‚

  å¦‚æœå‘ç”Ÿçš„å¼‚å¸¸åŒ…å«åœ¨ catch å—ä¸­ï¼Œå¼‚å¸¸ä¼šè¢«ä¼ é€’åˆ°è¯¥ catch å—ï¼Œè¿™å’Œä¼ é€’ä¸€ä¸ªå‚æ•°åˆ°æ–¹æ³•æ˜¯ä¸€æ ·ã€‚

  åŒæ—¶æˆ‘ä»¬è¿˜èƒ½è¿›è¡Œæ— é™å¥—å¨ƒï¼Œæ ¹æ®ä¸åŒçš„å¼‚å¸¸å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€ç›´catchã€‚

  Finallyå…³é”®å­—finally å…³é”®å­—ç”¨æ¥åˆ›å»ºåœ¨ try ä»£ç å—åé¢æ‰§è¡Œçš„ä»£ç å—ã€‚æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œfinally ä»£ç å—ä¸­çš„ä»£ç æ€»ä¼šè¢«æ‰§è¡Œã€‚åœ¨ finally ä»£ç å—ä¸­ï¼Œå¯ä»¥è¿è¡Œæ¸…ç†ç±»å‹ç­‰æ”¶å°¾å–„åæ€§è´¨çš„è¯­å¥ã€‚

- **throws+å¼‚å¸¸ç±»å‹**

  åœ¨Javaä¸­ï¼Œ **throw** å’Œ **throws** å…³é”®å­—æ˜¯ç”¨äºå¤„ç†å¼‚å¸¸çš„ã€‚

  **throw** å…³é”®å­—ç”¨äºåœ¨ä»£ç ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œ **throws** å…³é”®å­—ç”¨äºåœ¨æ–¹æ³•å£°æ˜ä¸­æŒ‡å®šå¯èƒ½ä¼šæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚

  * **throwå…³é”®å­—**

    **`throw` å…³é”®å­—** ç”¨äºåœ¨å½“å‰æ–¹æ³•ä¸­æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ä»£ç æ‰§è¡Œåˆ°æŸä¸ªæ¡ä»¶ä¸‹æ— æ³•ç»§ç»­æ­£å¸¸æ‰§è¡Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ **`throw` å…³é”®å­—** æŠ›å‡ºå¼‚å¸¸ï¼Œä»¥å‘ŠçŸ¥è°ƒç”¨è€…å½“å‰ä»£ç çš„æ‰§è¡ŒçŠ¶æ€ã€‚å®ƒå¯ä»¥åœ¨æˆ‘ä»¬è‡ªå·±æŒ‡å®šçš„åœ°æ–¹æŠ¥å¼‚å¸¸è·³å‡ºç¨‹åºï¼Œè€Œä¸ä¸€å®šåœ¨é”™è¯¯çš„åœ°æ–¹ï¼Œè¿™æ ·å¯ä»¥è‡ªå·±è¿›è¡Œç›‘æ§é”™è¯¯ï¼Œä¸è®©JVMå¤„ç†é”™è¯¯ã€‚

  * **throwså…³é”®å­—**

    **`throws` å…³é”®å­—** ç”¨äºåœ¨æ–¹æ³•å£°æ˜ä¸­æŒ‡å®šè¯¥æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ã€‚å½“æ–¹æ³•å†…éƒ¨æŠ›å‡ºæŒ‡å®šç±»å‹çš„å¼‚å¸¸æ—¶ï¼Œè¯¥å¼‚å¸¸ä¼šè¢«ä¼ é€’ç»™è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç ï¼Œå¹¶åœ¨è¯¥ä»£ç ä¸­å¤„ç†å¼‚å¸¸ã€‚throwsç”¨æ¥å£°æ˜æ–¹æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸ï¼Œä»¥ä¾¿è°ƒç”¨è€…æ ¹æ®ä¸åŒçš„å¼‚å¸¸ç±»å‹é¢„å…ˆå®šä¹‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚

  ```java
  package example.exception;
  
  public class ExceptionHandlingDemo {
  
      //åœ¨æ–¹æ³•ä¸­ç”¨throwså…³é”®å­—å£°æ˜å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸
      public static String print(String content) throws IllegalArgumentException{
          if(content == null) {
              //ç”¨throwå…³é”®å­—æŠ›å‡ºå®é™…å¼‚å¸¸
              throw new IllegalArgumentException("å†…å®¹ä¸å¯ä¸ºç©º");
          }
          return content;
      }
  
      public static void main(String[] args) {
          try {
              String result = print(null);
              System.out.println("ç»“æœï¼š" + result);
          }
          //æ•è·ç‰¹å®šçš„å¼‚å¸¸
          catch (IllegalArgumentException e){
              //å¤„ç†å¼‚å¸¸
              System.out.println("æ•è·å¼‚å¸¸ï¼š" + e);
          }
          //æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸
          catch (Exception e){
              //å¤„ç†å…¶ä½™å¼‚å¸¸
              System.out.println("æ•è·å…¶ä»–å¼‚å¸¸" + e);
          }finally {
              //æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ
              System.out.println("æ‰§è¡Œfinallyä¸­çš„ä»£ç ");
          }
  
      }
  }
  
  ```

### æ³›å‹ T\R

---

##### 1. ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ

â€‹    Java **æ³›å‹ ( Generics ) ** æ˜¯JDK5ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œæä¾›ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æŸ¥æœºåˆ¶ï¼Œå…è®¸ç¨‹åºå‘˜åœ¨ç¼–è¯‘æ—¶æ£€æµ‹åˆ°éæ³•çš„ç±»å‹ï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘åèƒ½å¤Ÿä¿ç•™ç±»å‹ä¿¡æ¯ï¼Œä»è€Œé¿å…åœ¨è¿è¡Œæ—¶å‡ºç°`ClassCastException` å¼‚å¸¸ã€‚

â€‹    æˆ–è®¸è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥š ï¼Ÿä¸‹é¢ç»“åˆä¸€ä¸ªä¾‹å­è¯´æ˜ï¼š

> *æ³›å‹åœ¨å¾ˆå¤§çš„ç¨‹åº¦ä¸Šæ–¹ä¾¿äº†é›†åˆçš„ä½¿ç”¨ åé¢ä¼šè¯¦ç»†ä»‹ç»é›†åˆçš„ç›¸å…³çŸ¥è¯† æ­¤å¤„å¯å…ˆç®€å•ç†è§£*

```java
package example.generics;

import java.util.ArrayList;
import java.util.List;

public class GenericsTest {
    public static void main(String[] args) {

        List list = new ArrayList();
        list.add("message");
        list.add(123);
        for (int i = 0; i < list.size(); i++) {
            String str = (String) list.get(i);
            System.out.println(str);
        }
    }
}
```

æ‰§è¡Œç»“æœå¦‚ä¸‹: 

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/image-20241026193333750.png)

   åœ¨ä¸Šè¿°æœªä½¿ç”¨æ³›å‹çš„ä¾‹å­ä¸­ï¼ŒåŸç”Ÿ `List` è¿”å›ç±»å‹æ˜¯ `Object` ï¼Œè·å–çš„ `object` ç±»å‹ä¸èƒ½ä½¿ç”¨å­ç±»çš„ç‰¹æœ‰è¡Œä¸ºï¼Œéœ€è¦æ‰‹åŠ¨è½¬æ¢ç±»å‹æ‰èƒ½ä½¿ç”¨ï¼Œè€Œè½¬æ¢çš„æ—¶å€™å®¹æ˜“å‡ºç°`ClassCastException` å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨è¿è¡Œåˆ°æœ‰é—®é¢˜çš„ä»£ç å‰æ˜¯ä¸çŸ¥é“ä¼šå‡ºç°æŠ¥é”™çš„ã€‚

   å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ³›å‹çº¦æŸå‚æ•°ç±»å‹ï¼Œä»è€Œçœå»å¼ºè½¬æ­¥éª¤ï¼Œè¿™æ ·ä¸€æ—¦ä¼ å…¥ä¸åŒäºæŒ‡å®šç±»å‹çš„å‚æ•°æ—¶å°±ä¼šæŠ¥é”™ï¼Œå¸®åŠ©æˆ‘ä»¬åœ¨ç¼–è¯‘é˜¶æ®µå°±æ‰¾å‡ºé—®é¢˜ã€‚

##### 2. æ³›å‹çš„ç”¨æ³•

â€‹    æ³›å‹çš„ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼šæ³›å‹ç±»ï¼Œæ³›å‹æ–¹æ³•ï¼Œæ³›å‹æ¥å£

* **æ³›å‹ç±»**

  * æ³›å‹ç±»æ¦‚è¿°ï¼šæŠŠæ³›å‹å®šä¹‰åœ¨ç±»ä¸Š

  * å®šä¹‰æ ¼å¼ï¼š

    ```java
    public class ç±»å <æ³›å‹ç±»å‹1,...> { }
    ```

* **æ³›å‹æ–¹æ³•**

  * æ³›å‹æ–¹æ³•æ¦‚è¿°ï¼šæŠŠæ³›å‹å®šä¹‰åœ¨æ–¹æ³•ä¸Š

  * å®šä¹‰æ ¼å¼ï¼š

    ```java
    public <æ³›å‹ç±»å‹> è¿”å›ç±»å‹ æ–¹æ³•åï¼ˆæ³›å‹ç±»å‹ å˜é‡åï¼‰ { }
    ```

    **æ³¨æ„**ï¼šæ–¹æ³•å£°æ˜ä¸­å®šä¹‰çš„å½¢å‚åªèƒ½åœ¨è¯¥æ–¹æ³•é‡Œä½¿ç”¨ï¼Œè€Œæ¥å£ã€ç±»å£°æ˜ä¸­å®šä¹‰çš„ç±»å‹å½¢å‚åˆ™å¯ä»¥åœ¨æ•´ä¸ªæ¥å£ã€ç±»ä¸­ä½¿ç”¨ã€‚å½“è°ƒç”¨fun()æ–¹æ³•æ—¶ï¼Œæ ¹æ®ä¼ å…¥çš„å®é™…å¯¹è±¡ï¼Œç¼–è¯‘å™¨å°±ä¼šåˆ¤æ–­å‡ºç±»å‹å½¢å‚Tæ‰€ä»£è¡¨çš„å®é™…ç±»å‹ã€‚

    ```java
    public class GenericsMethodExample {
        public <T> T fun(T t){   // å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„æ•°æ®
            return t ;     // ç›´æ¥æŠŠå‚æ•°è¿”å›
        }
    }
    public class GenericsMethodTest {
        public static void main(String args[]){
            GenericsMethodExample d = new GenericsMethodExample() ; // å®ä¾‹åŒ–Demoå¯¹è±¡
            String str = d.fun("æ±¤å§†") ; // ä¼ é€’å­—ç¬¦ä¸²
            int i = d.fun(30) ;  // ä¼ é€’æ•°å­—ï¼Œè‡ªåŠ¨è£…ç®±
            System.out.println(str) ; // è¾“å‡ºå†…å®¹
            System.out.println(i) ;  // è¾“å‡ºå†…å®¹
        }
    }
    ```

* **æ³›å‹æ¥å£**

  * æ³›å‹æ¥å£æ¦‚è¿°ï¼šæŠŠæ³›å‹å®šä¹‰åœ¨æ¥å£

  * å®šä¹‰æ ¼å¼ï¼š

    ```java
    ä¿®é¥°ç¬¦ interface æ¥å£å<æ³›å‹ç±»å‹> {}
    ```

  * å®ä¾‹ï¼š

    ```java
    public interface GenericsInterfaceExample<T> {
        void show(T t);
    }
    ----
    public class GenericsInterfaceImpl<E> implements GenericsInterfaceExample<E> {
    
        //GenericsInterfaceImplç±»å®ç°æ³›å‹æ¥å£ è¿›ä¸€æ­¥å»¶ç»­æ³›å‹ åˆ›å»ºè¯¥å®ç°ç±»å¯¹è±¡æ—¶å†ç¡®å®šç±»å‹
        @Override
        public void show(E t) {
            System.out.println(t);
        }
    
    }
    ----
    public class GenericsInterfaceTest {
        public static void main(String[] args) {
            //å®ä¾‹åŒ–GenericsInterfaceImplç±»å¯¹è±¡ å¹¶å£°æ˜å‚æ•°ç±»å‹ä¸ºString
            GenericsInterfaceExample<String> inter = new GenericsInterfaceImpl<String>();
            inter.show("hello,world!");
        }
    }
    
    
    ```

*æ³¨æ„*: 

* **æ³›å‹ç±»å‹å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹(éåŸºæœ¬æ•°æ®ç±»å‹)**ï¼Œè‹¥éœ€è¦å¡«å…¥åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™åº”å¡«å†™å¯¹åº”çš„åŒ…è£…ç±»

* **ä¸èƒ½åœ¨ç±»ä¸­å®šä¹‰æ³›å‹å‚æ•°åŒ–çš„é™æ€å±æ€§**ï¼Œä¼šäº§ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ï¼š`Cannot make a static reference to the non-static type T`

  eg:

  ```java
  public class GenericsExample<T>
  {
     private static T member; //ç¼–è¯‘ä¸é€šè¿‡
  }
  ```

* **ä¸èƒ½åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹ã€‚** ä»»ä½•åˆ›å»ºTå®ä¾‹çš„å°è¯•éƒ½å°†å¤±è´¥ æŠ›å‡ºç¼–è¯‘é”™è¯¯ï¼š`Cannot instantiate the type T` 

  eg:

  ```java
  public class GenericsExample<T>
  {
     public GenericsExample(){
        new T();
     }
  }
  ```

* **ä¸èƒ½åˆ›å»ºæ³›å‹çš„å¼‚å¸¸ç±»**

  ```java
  public class GenericException<T> extends Exception {}
  ```

##### 3. æ³›å‹æ„é€ å™¨

- æ„é€ å™¨ä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿå°±äº§ç”Ÿäº†æ‰€è°“çš„æ³›å‹æ„é€ å™¨ã€‚
- å’Œä½¿ç”¨æ™®é€šæ–¹æ³•ä¸€æ ·æ²¡æœ‰åŒºåˆ«ï¼Œä¸€ç§æ˜¯æ˜¾å¼æŒ‡å®šæ³›å‹å‚æ•°ï¼Œå¦ä¸€ç§æ˜¯éšå¼æ¨æ–­

egï¼š

```java
public class Person {
  public <T> Person(T t) {
  System.out.println(t);
  }
}
public static void main(String[] args) {
new Person(22);// éšå¼
new <String> Person("hello");//æ˜¾å¼
}
```

- ç‰¹æ®Šè¯´æ˜ï¼š

  - å¦‚æœæ„é€ å™¨æ˜¯æ³›å‹æ„é€ å™¨ï¼ŒåŒæ—¶è¯¥ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»çš„æƒ…å†µä¸‹åº”è¯¥å¦‚ä½•ä½¿ç”¨æ³›å‹æ„é€ å™¨ï¼šå› ä¸ºæ³›å‹æ„é€ å™¨å¯ä»¥æ˜¾å¼æŒ‡å®šè‡ªå·±çš„ç±»å‹å‚æ•°ï¼ˆéœ€è¦ç”¨åˆ°è±å½¢ï¼Œæ”¾åœ¨æ„é€ å™¨ä¹‹å‰ï¼‰ï¼Œè€Œæ³›å‹ç±»è‡ªå·±çš„ç±»å‹å®å‚ä¹Ÿéœ€è¦æŒ‡å®šï¼ˆè±å½¢æ”¾åœ¨æ„é€ å™¨ä¹‹åï¼‰ï¼Œè¿™å°±åŒæ—¶å‡ºç°äº†ä¸¤ä¸ªè±å½¢äº†ï¼Œè¿™å°±ä¼šæœ‰ä¸€äº›å°é—®é¢˜ï¼Œå…·ä½“ç”¨æ³•åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚ ä»¥ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸ºä»£è¡¨

    ```java
    public class Person<E> {
    
            public <T> Person(E e,T t) {
                System.out.println(e);
                System.out.println(t);
            }
    
        public static void main(String[] args) {
              //åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPersonè¢«å®ä¾‹åŒ–ä¸ºStringç±»å‹ï¼Œä½†æ˜¯æ„é€ å™¨çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯Integerç±»å‹ã€‚
                Person<String> person = new Person("sss",123);
        }
    }
    ```

  - PSï¼šç¼–è¯‘å™¨ä¼šæé†’ä½ æ€ä¹ˆåšçš„

##### 4. é€šé…ç¬¦

* **< ? >**æ— ç•Œé€šé…ç¬¦ 

  `?` è¡¨ç¤ºä¸ç¡®å®šçš„ç±»å‹ï¼Œä¾‹å¦‚ List<?> å°±ä»£è¡¨ç€å¯ä»¥ä¼ å…¥ä»»æ„æ•°æ®ç±»å‹

* **<? extends T>** ä¸Šç•Œé€šé…ç¬¦

  ä¸Šç•Œé€šé…ç¬¦é¡¾åæ€ä¹‰ï¼Œ<? extends T>è¡¨ç¤ºçš„æ˜¯ç±»å‹çš„ä¸Šç•Œã€åŒ…å«è‡ªèº«ã€‘ï¼Œå› æ­¤é€šé…çš„å‚æ•°åŒ–ç±»å‹å¯èƒ½æ˜¯Tæˆ–Tçš„å­ç±»ã€‚

  ```java
    //å®ƒè¡¨ç¤ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯Animalç±»å‹æˆ–è€…å…¶å­ç±»
    List<? extends Animal>
  ```

  è¿™å°±æ˜¯æ‰€è°“çš„ä¸Šé™é€šé…ç¬¦ï¼Œä½¿ç”¨å…³é”®å­—extendsæ¥å®ç°ï¼Œå®ä¾‹åŒ–æ—¶ï¼ŒæŒ‡å®šç±»å‹å®å‚åªèƒ½æ˜¯extendsåç±»å‹çš„å­ç±»æˆ–å…¶æœ¬èº«ã€‚ ä¾‹å¦‚ï¼š è¿™æ ·å°±ç¡®å®šé›†åˆä¸­å…ƒç´ çš„ç±»å‹ï¼Œè™½ç„¶ä¸ç¡®å®šå…·ä½“çš„ç±»å‹ï¼Œä½†æœ€èµ·ç çŸ¥é“å…¶çˆ¶ç±»ã€‚ç„¶åè¿›è¡Œå…¶ä»–æ“ä½œã€‚

  ```java
    //Catæ˜¯å…¶å­ç±»
    List<? extends Animal> list = new ArrayList<Cat>();
  ```

* **<? super T> **ä¸‹ç•Œé€šé…ç¬¦

  ä¸‹ç•Œé€šé…ç¬¦<? super T>è¡¨ç¤ºçš„æ˜¯å‚æ•°åŒ–ç±»å‹æ˜¯Tçš„è¶…ç±»å‹ï¼ˆåŒ…å«è‡ªèº«ï¼‰ï¼Œå±‚å±‚è‡³ä¸Šï¼Œç›´è‡³Object

  ```java
    //å®ƒè¡¨ç¤ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯Catç±»å‹æˆ–è€…å…¶çˆ¶ç±»
    List <? super Cat>
  ```

  è¿™å°±æ˜¯æ‰€è°“çš„ä¸‹ç•Œé€šé…ç¬¦ï¼Œä½¿ç”¨å…³é”®å­—superæ¥å®ç°ï¼Œå®ä¾‹åŒ–æ—¶ï¼ŒæŒ‡å®šç±»å‹å®å‚åªèƒ½æ˜¯extendsåç±»å‹çš„å­ç±»æˆ–å…¶æœ¬èº«

  ```java
    //Animalæ˜¯å…¶çˆ¶ç±»
        List<? super Cat> list = new ArrayList<Animal>();
  ```

   æ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥è‡ªè¡Œå­¦ä¹ -->[è¿™é‡Œ](https://juejin.cn/post/7126717331522191368)

### é›†åˆæ¡†æ¶

---

é›†åˆä¸æ•°ç»„ä¸€æ ·ï¼Œéƒ½æ˜¯å­˜å‚¨æ•°æ®çš„å®¹å™¨ã€‚ä¸ºä»€ä¹ˆè¦å­¦ä¹ é›†åˆï¼Ÿä¸‹é¢æ˜¯ä¸¤è€…çš„å¯¹æ¯”

- æ•°ç»„ä½¿ç”¨å‰éœ€è¦å£°æ˜å…¶å®¹çº³çš„å…ƒç´ çš„ç±»å‹ï¼Œä½†é›†åˆä¸éœ€è¦ã€‚
- æ•°ç»„æ˜¯é™æ€çš„ï¼Œå³æ•°ç»„åˆ›å»ºåå…·æœ‰å›ºå®šçš„å¤§å°ï¼ˆé•¿åº¦ï¼‰ï¼Œä½†é›†åˆçš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œé›†åˆå­˜åœ¨ä¸€ä¸ªæ‰©å®¹æœºåˆ¶ã€‚
- æ•°ç»„åªèƒ½å­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯é›†åˆå¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ã€‚
- é›†åˆæ”¯æŒæ³›å‹ï¼Œå…·æœ‰å†…å»ºç®—æ³•ã€‚



##### 1. é›†åˆæ¡†æ¶ä½“ç³»

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/1730806789263.png)

   é›†åˆä½“ç³»åˆ†æˆäº†æ¥å£ã€å…·ä½“ç±»ã€ç®—æ³•ï¼š

* æ¥å£ï¼šåœ¨ä¸Šä¸¤èŠ‚è¯¾çš„å­¦ä¹ ä¸­ï¼Œå¤§å®¶å­¦ä¹ äº†Javaé¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚è¿™é‡Œå®šä¹‰çš„æ¥å£å°±ä»£è¡¨ç€é›†åˆçš„æŠ½è±¡æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ä¾‹å¦‚ Collectionã€Listã€Setã€Map ç­‰ã€‚ä¹‹æ‰€ä»¥å®šä¹‰äº†å¤šä¸ªæ¥å£ï¼Œæ˜¯ä¸ºäº†ä»¥ä¸åŒçš„æ–¹å¼æ“ä½œé›†åˆå¯¹è±¡ ã€‚

* å®ç°ç±»ï¼šå®ç°ç±»å°±æ˜¯æ¥å£çš„å…·ä½“å®ç°ï¼Œæ¯”å¦‚è¯´ArrayListå°±æ˜¯Listæ¥å£çš„å®ç°ç±»ï¼ŒHashSetå°±æ˜¯Setæ¥å£çš„å®ç°ç±»ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨é›†åˆçš„æ—¶å€™ï¼Œå°±æ˜¯ä½¿ç”¨è¿™äº›å®ç°ç±»è¿›è¡Œæ“ä½œã€‚

* ç®—æ³•ï¼šåœ¨Javaä¸­ï¼Œè¿˜å­˜åœ¨ç€ä¸€äº›æ“ä½œé›†åˆçš„æ–¹æ³•ï¼Œä¾‹å¦‚æœç´¢å’Œæ’åºï¼Œå­¦ä¹ è¿™äº›æ–¹æ³•ä¹Ÿåˆ©äºæˆ‘ä»¬æ›´å¥½çš„æ“ä½œé›†åˆã€‚ Java é›†åˆæ¡†æ¶æä¾›äº†ä¸€å¥—æ€§èƒ½ä¼˜è‰¯ï¼Œä½¿ç”¨æ–¹ä¾¿çš„æ¥å£å’Œç±»ï¼ŒJavaé›†åˆæ¡†æ¶ä½äº`java.util`åŒ…ä¸­ï¼Œ æ‰€ä»¥å½“ä½¿ç”¨é›†åˆæ¡†æ¶çš„æ—¶å€™éœ€è¦è¿›è¡Œå¯¼åŒ…ã€‚

  Javaçš„é›†åˆç±»ä¸»è¦ç”±ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿè€Œå‡ºã€‚å…¶ä¸­ï¼ŒCollectionæ˜¯å•åˆ—é›†åˆçš„æ€»æ¥å£ï¼Œå¸¸ç”¨çš„æ˜¯Setå’ŒListï¼ŒQueueç”¨å¾—ä¸å¤šã€‚Mapæ˜¯åŒåˆ—é›†åˆçš„æ€»æ¥å£ã€‚

> *é›†åˆæ¡†æ¶æ¦‚è§ˆå›¾*

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/image-20241105194654150.png)

##### 2. List

â€‹     Listç³»åˆ—çš„é›†åˆçš„æ˜¾è‘—ç‰¹ç‚¹ï¼š **æœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼•** ï¼ŒåŒ…å« `ArrayList`ã€`LinkedList`ã€`Vector`ä¸‰ä¸ªå®ç°ç±»

* **`ArrayList`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼Œå¯ä»¥å­˜å‚¨é‡å¤å…ƒç´  
* **`LinkedList`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯åŒå‘é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢åˆ å¿«ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ï¼Œå¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ 
* **`Vector`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ï¼Œå¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ 

---

**ArrayList**

â€‹      ArrayListæ˜¯Javaä¸­çš„ä¸€ç§åŸºäºæ•°ç»„å®ç°çš„åŠ¨æ€æ•°ç»„ç±»ï¼Œå®ƒå¯ä»¥åœ¨æ•°ç»„çš„åŸºç¡€ä¸Šå®ç°å¢åŠ ã€åˆ é™¤ã€è®¿é—®ç­‰æ“ä½œã€‚ArrayListä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹æ–¹æ³•ï¼š

* æ·»åŠ å…ƒç´  

  * `add(element);` ---- ç›´æ¥åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´  æ·»åŠ æˆåŠŸåè¿”å›true
  * `add(index,element);` ---- åœ¨é›†åˆä¸­æŒ‡å®šç´¢å¼•ä½ç½®æ·»åŠ å…ƒç´ 

* åˆ é™¤å…ƒç´  

  * `remove(index);` ---- æ ¹æ®ç´¢å¼•åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ å¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 

  * `remove(element)ï¼›` ---- ç›´æ¥åˆ é™¤æŒ‡å®šå…ƒç´  æˆåŠŸåˆ™è¿”å›true

    **æ³¨æ„**ï¼š*ç›´æ¥åˆ é™¤æ—¶ï¼Œè‹¥å­˜åœ¨ç›¸åŒå…ƒç´ ï¼Œé»˜è®¤åˆ é™¤ç›¸åŒå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´ ã€‚è°ƒç”¨æ–¹æ³•æ—¶ï¼Œè‹¥æ–¹æ³•å‡ºç°äº†é‡è½½ç°è±¡ï¼Œä¼šä¼˜å…ˆè°ƒç”¨å®å‚è·Ÿå½¢å‚ç±»å‹ä¸€è‡´çš„é‚£ä¸ªæ–¹æ³•*

* è·å–å…ƒç´  

  * `get(index)`   ---- è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ 

* ä¿®æ”¹å…ƒç´  

  * `set(index,element)`  ---- ä¿®æ”¹æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´  å¹¶è¿”å›åŸæ¥çš„å…ƒç´ 

* è¿”å›é›†åˆå¤§å° å³å…ƒç´ ä¸ªæ•°

  * `size()` 

* æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰å…ƒç´  

  * `clear()`

```java
package example.collection;

import java.util.ArrayList;

public class ArrayListDemo {
    public static void main(String[] args) {
        ArrayList<Object> arrayList = new ArrayList<>();
        // ç›´æ¥æ·»åŠ å…ƒç´ 
        arrayList.add(20);
        arrayList.add("A");
        arrayList.add("B");
        System.out.println(arrayList);
        //åœ¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
        arrayList.add(2,"?");
        System.out.println(arrayList);
        // æ›¿æ¢å…ƒç´   å¦‚æœç´¢å¼•è¶…è¿‡äº†é›†åˆçš„æœ€å¤§ç´¢å¼•ï¼Œä¼šæŠ¥é”™ã€‚
        arrayList.set(0,1);
        System.out.println(arrayList);
        // å¾—åˆ°å…ƒç´  get()
        Object o =  arrayList.get(3);
        System.out.println(o);
        // åˆ é™¤å…ƒç´  remove()
        arrayList.remove("A");
        System.out.println(arrayList);
        arrayList.remove(1);  //ä¼˜å…ˆè°ƒç”¨å®å‚è·Ÿå½¢å‚ç±»å‹ä¸€è‡´çš„é‚£ä¸ªæ–¹æ³•
        System.out.println(arrayList);
        // å¾—åˆ°æŸä¸€å…ƒç´ çš„ç´¢å¼•,å¦‚æœæ²¡æœ‰è¯¥å…ƒç´ å°±è¿”å›-1
        int index = arrayList.indexOf("B");
        System.out.println("Bçš„ç´¢å¼•ä¸º" + index);
        // é•¿åº¦ size()
        System.out.println("é›†åˆçš„é•¿åº¦ä¸º" + arrayList.size());
        // æ¸…ç©ºåˆ—è¡¨ clear()
        arrayList.clear();
        System.out.println("é›†åˆçš„é•¿åº¦ä¸º" + arrayList.size());

    }
}
```

**ArrayListæ‰©å®¹æœºåˆ¶**

â€‹     æ‰“å¼€ideaä¸­ArrayListç±»çš„æºç ï¼ŒArrayListä¸­æœ‰ä¸¤ä¸ªå±æ€§ï¼Œsizeï¼šè¡¨ç¤ºArrayListçš„é•¿åº¦ï¼ŒelementDataæ•°ç»„ï¼šç”¨æ¥å­˜å‚¨æ•°æ®çš„æ•°ç»„ã€‚ åœ¨Arraylistæ‰©å®¹æ—¶ä¼šé¦–å…ˆåˆ¤æ–­å¾—åˆ°æœ€å°æ‰©å®¹é‡ï¼Œå¦‚æœä½ æ„é€ çš„ArrayListæ˜¯ç”¨æ— å‚æ„é€ ï¼Œå³ä½ åˆ›å»ºArrayListæ—¶æ²¡æœ‰ç¡®å®šå®ƒçš„é•¿åº¦ï¼Œæœ€å°æ‰©å®¹é‡å°±ä¸º10å’Œsize+1å½“ä¸­çš„æœ€å¤§å€¼ï¼Œ ç„¶åå†åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœæœ€å°æ‰©å®¹é‡å¤§äºelementData.lengthï¼Œå°±éœ€è¦æ‰©å®¹ï¼Œç„¶åè°ƒç”¨growï¼ˆï¼‰æ–¹æ³•ï¼Œå…¶ä¸­æ—§å®¹é‡ä¸ºelementData.lengthï¼Œæ–°å®¹é‡ä¸ºelementData.lengthçš„1.5å€ï¼ˆnew=old+old>>1ï¼‰ï¼Œ è‹¥æ–°å®¹é‡å¤§äºsize+1,æœ€å°éœ€è¦å®¹é‡å°±ä¸ºæ–°å®¹é‡ï¼Œè‹¥æ–°å®¹é‡å°äºsize+1,æœ€å°éœ€è¦å®¹é‡å°±ä¸ºsize+1,ä¹‹åå†å°†åŸæ¥çš„æ•°ç»„ç”¨Arrays.copyOfæ–¹æ³•å¤åˆ¶åˆ°æ–°æ•°ç»„ï¼Œä½¿æ–°æ•°ç»„çš„é•¿åº¦ä¸ºæœ€å°éœ€è¦å®¹é‡ã€‚

---

 **LinkedList**

â€‹        LinkedListæ˜¯Javaä¸­çš„ä¸€ä¸ªåŒå‘é“¾è¡¨å®ç°çš„é›†åˆç±»ï¼Œæä¾›äº†ä¸“é—¨é’ˆå¯¹åˆ—è¡¨é¦–ä½æ“ä½œçš„æ–¹æ³•ï¼Œå¯ä»¥å½“ä½œæ ˆå’Œé˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

* æ·»åŠ å…ƒç´ 
  * `add(element)` ---- åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  * `addFirst(element)` ---- åœ¨é“¾è¡¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  * `addLast(element)` ---- åœ¨é“¾è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ 
* åˆ é™¤å…ƒç´ 
  * `remove(index)`  ---- åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
  * `removeFirst()` ---- ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
  * `removeLast()`  ---- ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
* ä¿®æ”¹å…ƒç´ 
  * `set(index,element)` ---- æ›¿æ¢æŒ‡å®šä½ç½®çš„å…ƒç´ 
* è·å–å…ƒç´ 
  * `get(int index)`  ---- è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
  * `getFirst()`  ---- è¿”å›åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
  * `getLast()`  ----  è¿”å›åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
* è¿”å›é“¾è¡¨çš„å¤§å°
  * `size( );` 
* æ¸…ç©ºé“¾è¡¨ä¸­æ‰€æœ‰å…ƒç´ 
  * ` clear( );`

```java
package example.collection;

import java.util.LinkedList;

public class LinkedListDemo {
    public static void main(String[] args) {
        //å¢åˆ æ”¹æŸ¥å…ƒç´ ä¸åšè¿‡å¤šè¯´æ˜ ä»…ç®€å•å±•ç¤ºç‰¹æ®Šé¢å¤–ç”¨æ³•
        //1.å½“ä½œé˜Ÿåˆ—ä½¿ç”¨
        LinkedList<String> queue = new LinkedList<>();
        queue.addFirst("ç”²");
        queue.addLast("ä¹™");
        queue.addLast("ä¸™");
        queue.addLast("ä¸");
        System.out.println(queue);   // [ç”², ä¹™, ä¸™, ä¸]
        //è·å–ä½†ä¸ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› null
        String firstPerson = queue.peekFirst();
        System.out.println("ç¬¬ä¸€ä¸ªäººï¼š" + firstPerson);  // ç¬¬ä¸€ä¸ªäººï¼šç”²
        //è·å–ä½†ä¸ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› null
        String lastPerson = queue.peekLast();
        System.out.println("æœ€åä¸€ä¸ªäººï¼š" +lastPerson);  // æœ€åä¸€ä¸ªäººï¼šä¸
        //è·å–å¹¶ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› null
        queue.pollFirst();
        System.out.println(queue);  //[ä¹™, ä¸™, ä¸]
        //è·å–å¹¶ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› null
        queue.pollLast();
        System.out.println(queue); //[ä¹™, ä¸™]

        //2.å½“ä½œæ ˆä½¿ç”¨
        LinkedList<String> stack = new LinkedList<>();
        //å°†å…ƒç´ æ¨å…¥æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„æ ˆä¸­ï¼Œå³å°†å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å¼€å¤´
        stack.push("o");
        stack.push("l");
        stack.push("l");
        stack.push("e");
        stack.push("H");
        System.out.println(stack);  // [H, e, l, l, o]
        //åˆ—è¡¨å¼€å¤´å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå³ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
        stack.pop();
        stack.pop();
        stack.pop();
        stack.pop();
        System.out.println(stack);  //[o]
    }
}

```

**Vector**

â€‹       Vectoræ˜¯Javaä¸­çš„ä¸€ä¸ªåŸºäºæ•°ç»„å®ç°çš„åŠ¨æ€æ•°ç»„ç±»ï¼Œå®ƒå¯ä»¥åœ¨æ•°ç»„çš„åŸºç¡€ä¸Šå®ç°å¢åŠ ã€åˆ é™¤ã€è®¿é—®ç­‰æ“ä½œã€‚ Vectorä¸ArrayListå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

##### 3. Set

â€‹    Setç³»åˆ—é›†åˆçš„æ˜¾è‘—ç‰¹ç‚¹ï¼š  **æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•**  ï¼ŒåŒ…å«  `HashSet`ã€`LinkedHashSet`ã€`TreeSet` ä¸‰ä¸ªå®ç°ç±»ã€‚

* **`HashSet`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…ƒç´ å”¯ä¸€ 
* **`LinkedHashSet`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯é“¾è¡¨å’Œå“ˆå¸Œè¡¨ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå…ƒç´ å”¯ä¸€
* **`TreeSet`**ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œå…ƒç´ å”¯ä¸€

**HashSet**

â€‹      HashSetå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ç±»ã€‚æ­¤å¤–ï¼ŒHashSetä¸­çš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œä¸ä¿æŒå…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå› æ­¤åœ¨éå†HashSetæ—¶ï¼Œå…ƒç´ çš„é¡ºåºå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚HashSetçš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

* æ·»åŠ å…ƒç´ 
  * `add(element)`   ----  åœ¨é›†åˆä¸­æ·»åŠ å…ƒç´  æˆåŠŸè¿”å›true
* ç§»é™¤å…ƒç´ 
  * `remove(Object o)`  ---- åˆ é™¤æŒ‡å®šå…ƒç´  æˆåŠŸè¿”å›true
* æ£€æŸ¥æ˜¯å¦åŒ…å«æŸå…ƒç´ 
  * `contains(Object o)`  ---- å¦‚æœé›†åˆä¸­åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å›true
* æ¸…ç©ºé›†åˆä¸­çš„å…ƒç´ 
  * `clear();` 
* è·å–é›†åˆå¤§å°
  * `size();` 

```java
package example.collection;

import java.util.*;

public class HashSetDemo {
    public static void main(String[] args) {
        HashSet<String> hashSet = new HashSet<>();
        // æ·»åŠ å…ƒç´ 
        hashSet.add("apple");
        hashSet.add("banana");
        hashSet.add("orange");
        System.out.println(hashSet);  //[banana, orange, apple]
        System.out.println(hashSet.add("apple"));  //å·²å­˜åœ¨å…ƒç´ apple --> è¾“å‡º:false
        // åˆ é™¤å…ƒç´ 
        hashSet.remove("banana");
        System.out.println(hashSet);  //[orange, apple]
        // æŸ¥çœ‹æ˜¯å¦åŒ…å«å…ƒç´  contains()
        System.out.println(hashSet.contains("apple")); // è¾“å‡ºï¼štrue
        System.out.println(hashSet.contains("banana")); // è¾“å‡ºï¼šfalse
        // è·å–é•¿åº¦
        System.out.println(hashSet.size()); // è¾“å‡ºï¼š2
        // æ¸…ç©ºé›†åˆå…ƒç´ 
        hashSet.clear();
        System.out.println(hashSet.size()); // è¾“å‡ºï¼š0
    }
}
```

----

**List å’Œ Setçš„åŒºåˆ«**

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/1730806520362.png)

##### 4. Map

Map æ˜¯ä¸€ä¸ªåŒåˆ—é›†åˆï¼Œä¹Ÿå³é”®å€¼å¯¹é›†åˆï¼Œç”¨æ¥å­˜å‚¨é”®ã€å€¼å’Œä¹‹é—´çš„æ˜ å°„ã€‚

**HashMap**

HashMapæ˜¯Javaä¸­çš„ä¸€ä¸ªMapæ¥å£çš„å®ç°ç±»ï¼Œå®ƒä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚HashMapä¸­çš„é”®å’Œå€¼å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œè€Œä¸”å®ƒæ”¯æŒè‡ªåŠ¨æ‰©å®¹ï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ HashMapçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š

* é€šè¿‡é”®æ¥è·å–å€¼ï¼Œå¯ä»¥é€šè¿‡é”®æ¥è®¾ç½®ã€åˆ é™¤å€¼ã€‚
* æ”¯æŒç©ºé”®å’Œç©ºå€¼ã€‚
* æ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸ºO(1)ã€‚
* ä¸ä¿è¯å…ƒç´ çš„é¡ºåºã€‚

å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

* æ ¹æ®é”®è·å–å€¼
  * `get(key)`
* å°†é”®å€¼å¯¹å­˜å…¥HashMapä¸­
  * `put(key, value)`
* æ ¹æ®é”®åˆ é™¤å¯¹åº”çš„é”®å€¼å¯¹
  * `remove(key)`
* è¿”å›HashMapä¸­é”®å€¼å¯¹çš„æ•°é‡
  * `size()`
* æ¸…ç©ºHashMapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹
  * `clear()`
* åˆ¤æ–­HashMapæ˜¯å¦ä¸ºç©º
  * `isEmpty()`
* è¿”å›ä¸€ä¸ªSeté›†åˆï¼ŒåŒ…å«æ‰€æœ‰çš„é”®
  * `keySet()`
* è¿”å›ä¸€ä¸ªCollectioné›†åˆï¼ŒåŒ…å«æ‰€æœ‰çš„å€¼
  * `values()`

```java
package example.map;

import java.util.Collection;
import java.util.Map;
import java.util.HashMap;
import java.util.Set;

public class HashMapDemo {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡
        Map<String, Integer> map = new HashMap<>();
        // å‘mapä¸­æ·»åŠ é”®å€¼å¯¹
        map.put("è¯­æ–‡", 108);
        map.put("æ•°å­¦",123);
        map.put("è‹±è¯­",136);
        // ä»mapä¸­è·å–é”®ä¸º"æ•°å­¦"çš„å€¼ï¼Œèµ‹å€¼ç»™mathå˜é‡
        int math = map.get("æ•°å­¦");
        System.out.println("åˆ†æ•°ä¸ºï¼š" + math);
        // æ£€æŸ¥mapä¸­æ˜¯å¦å­˜åœ¨é”®ä¸º"äº”å’¯"çš„å…ƒç´ ï¼Œå¦‚æœå­˜åœ¨è¿”å›trueï¼Œå¦åˆ™è¿”å›false
        boolean exists = map.containsKey("ç‰©ç†");
        System.out.println(exists);
        // è·å–mapä¸­æ‰€æœ‰çš„é”®ï¼Œè¿”å›ä¸€ä¸ªSeté›†åˆ
        Set<String> subject = map.keySet();
        System.out.println("æ‰€æœ‰å­¦ç§‘ï¼š" + subject);
        // è·å–mapä¸­æ‰€æœ‰çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªCollectioné›†åˆ
        Collection<Integer> score = map.values();
        System.out.println("æ‰€æœ‰åˆ†æ•°ï¼š" + score);
        // è·å–mapä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ï¼Œè¿”å›ä¸€ä¸ªCollectioné›†åˆ
        Collection<Map.Entry<String, Integer>> result = map.entrySet();
        System.out.println("æˆç»©ï¼š" + result);
        // è·å–mapä¸­ç¬¬ä¸€ä¸ªé”®ï¼Œè¿”å›ä¸€ä¸ªStringç±»å‹çš„å­—ç¬¦ä¸²
        String key = map.keySet().toArray(new String[1])[0];
        System.out.println(key);
        // ä»mapä¸­ç§»é™¤é”®ä¸º"è¯­æ–‡"çš„å…ƒç´ 
        map.remove("è¯­æ–‡");
        System.out.println(map);
        // è·å–mapä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œè¿”å›ä¸€ä¸ªintç±»å‹çš„æ•´æ•°
        int size = map.size();
        System.out.println("å…ƒç´ ä¸ªæ•°ï¼š" + size);
        // æ¸…ç©ºmapä¸­çš„æ‰€æœ‰å…ƒç´ 
        map.clear();
        System.out.println(map);
        // æ£€æŸ¥mapæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºè¿”å›trueï¼Œå¦åˆ™è¿”å›false
        boolean isEmpty = map.isEmpty();
        System.out.println(isEmpty);

    }.
}
```

**HashMapçš„åº•å±‚ç»“æ„**

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/main/Lesson4/images/1730806525452.png)

1. å“ˆå¸Œè¡¨ HashMapä¸»è¦ä¾èµ–äºå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰æ¥å­˜å‚¨æ•°æ®ã€‚å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ è¢«ç§°ä¸ºâ€œbucketâ€ã€‚æ•°ç»„çš„æ¯ä¸ªä½ç½®ï¼ˆbucketï¼‰éƒ½å¯ä»¥å­˜æ”¾ä¸€ä¸ªå…ƒç´ ï¼ˆé”®å€¼å¯¹ï¼‰ï¼Œæ•°ç»„çš„ç´¢å¼•æ˜¯é€šè¿‡é”®çš„å“ˆå¸Œç ç»è¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å¾—æ¥çš„ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é”®å¿«é€Ÿå®šä½åˆ°æ•°ç»„çš„æŸä¸ªä½ç½®ï¼Œå–å‡ºç›¸åº”çš„å€¼ï¼Œè¿™å°±æ˜¯HashMapå¿«é€Ÿè·å–æ•°æ®çš„åŸç†ã€‚
2. é“¾è¡¨ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œå“ˆå¸Œå‡½æ•°å°†æ¯ä¸ªé”®å‡åŒ€åœ°æ•£åˆ—åˆ°å“ˆå¸Œè¡¨çš„å„ä¸ªä½ç½®ã€‚ä½†åœ¨å®é™…ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªä¸åŒçš„é”®è®¡ç®—å‡ºç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œå“ˆå¸Œå†²çªâ€ã€‚â€˜â€™HashMapé€šè¿‡ä½¿ç”¨é“¾è¡¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å½“å“ˆå¸Œå†²çªå‘ç”Ÿæ—¶ï¼ŒHashMapä¼šåœ¨å†²çªçš„bucketä½ç½®å¢åŠ ä¸€ä¸ªé“¾è¡¨ï¼Œæ–°çš„å…ƒç´ ä¼šè¢«æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚æ¯ä¸ªé“¾è¡¨ä¸­çš„å…ƒç´ éƒ½åŒ…å«äº†ç›¸åŒå“ˆå¸Œå€¼çš„é”®å€¼å¯¹ã€‚æ‰€ä»¥åœ¨æŸ¥æ‰¾å…ƒç´ æ—¶ï¼Œå¦‚æœé‡åˆ°å“ˆå¸Œå†²çªï¼ŒHashMapéœ€è¦è¿›è¡Œä¸€æ¬¡çº¿æ€§æŸ¥æ‰¾ã€‚
3. çº¢é»‘æ ‘ ä»Java 8å¼€å§‹ï¼Œå¦‚æœé“¾è¡¨çš„é•¿åº¦è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰ï¼Œé‚£ä¹ˆé“¾è¡¨ä¼šè¢«è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œé€šè¿‡ä¿æŒæ ‘çš„å¹³è¡¡ï¼Œå¯ä»¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚
4. æ‰©å®¹ä¸é‡æ–°å“ˆå¸Œ HashMapåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„åˆå§‹å®¹é‡ï¼ˆ16ï¼‰ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªåŠ è½½å› å­ï¼ˆ0.75ï¼‰ã€‚å½“HashMapçš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å·²ç»å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡ï¼‰è¶…è¿‡ å®¹é‡*åŠ è½½å› å­ çš„æ—¶å€™ï¼ŒHashMapä¼šè¿›è¡Œæ‰©å®¹ï¼Œæ–°çš„å®¹é‡æ˜¯åŸæ¥çš„ä¸¤å€ï¼Œå¹¶ä¸”ä¼šè¿›è¡Œé‡æ–°å“ˆå¸Œï¼Œå°†å·²ç»å­˜åœ¨çš„å…ƒç´ é‡æ–°æ”¾å…¥æ–°çš„bucketä½ç½®ã€‚ æ€»ç»“ HashMapçš„åº•å±‚æ•°æ®ç»“æ„åŒ…æ‹¬ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰ã€é“¾è¡¨å’Œçº¢é»‘æ ‘ã€‚é€šè¿‡å“ˆå¸Œè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®šä½å…ƒç´ çš„ä½ç½®ã€‚é€šè¿‡é“¾è¡¨å’Œçº¢é»‘æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³å“ˆå¸Œå†²çªçš„é—®é¢˜ã€‚é€šè¿‡æ‰©å®¹å’Œé‡æ–°å“ˆå¸Œï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯HashMapçš„æ€§èƒ½ã€‚
5. å…³äºHashMapçš„åº•å±‚ç»“æ„å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« :https://juejin.cn/post/7188057359754166331?searchId=20231124205835322C5596C5B424379DE0



##### 5. é›†åˆçš„éå†

   ä»…å±•ç¤ºäº†æ¯”è¾ƒå¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ï¼Œå…¶ä½™åƒ**Stream API**ç­‰æ–¹å¼å¯è‡ªè¡ŒæŸ¥é˜…å­¦ä¹ 

* **è¿­ä»£å™¨ (  Iterator ) **

  è¿­ä»£å™¨ (Iterator ) æ˜¯ä¸€ç§**è®¾è®¡æ¨¡å¼**ï¼Œå®ƒæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹æ³•æ¥é¡ºåºè®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œè€Œä¸æš´éœ²é›†åˆå†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚

  Javaæä¾›äº† **`Iterator` æ¥å£** ä½œä¸ºè¿­ä»£å™¨çš„åŸºç¡€æ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰äº†ä¸€ç³»åˆ—ç”¨äºè®¿é—®é›†åˆå…ƒç´ çš„æ–¹æ³• --> `hasNext()`ã€`next()`ã€`remove()`ç­‰ã€‚ æ‰€æœ‰å®ç°äº† `Collection` æ¥å£ çš„é›†åˆç±»éƒ½æœ‰ä¸€ä¸ª `iterator( )`æ–¹æ³• ç”¨ä»¥è¿”å›ä¸€ä¸ªå®ç°äº† `Iterator`æ¥å£ çš„**å¯¹è±¡**ï¼Œè¯¥å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ã€‚

  > æ³¨ï¼šIteratorä»…ç”¨äºéå†é›†åˆ å¹¶ä¸”æœ¬èº«ä¸å­˜æ”¾å¯¹è±¡

  éƒ¨åˆ†ğŸŒ°ï¼š

  ```java
  //1.è¿­ä»£å™¨(iterator)éå†
          //è·å–é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡
          Iterator<String> iterator1 = personList.iterator();
          //åˆ©ç”¨è¿­ä»£å™¨ iterator1 éå†é›†åˆ
          while(iterator1.hasNext()){
              String result1 = iterator1.next();
              System.out.println("personListè¿­ä»£å™¨éå†ï¼š" + result1);
          }
  ```

  `hasNext()` ï¼šæ£€æŸ¥æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´         `next()`æ–¹æ³•ï¼šè·å–ä¸‹ä¸€ä¸ªå…ƒç´ 

  ä¸€äº›**æ³¨æ„äº‹é¡¹:**

  * åœ¨è¿­ä»£å™¨çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œåº”é¿å…åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½åˆ›å»ºæ–°çš„è¿­ä»£å™¨å¯¹è±¡ã€‚å¦‚æœéœ€è¦å¤šæ¬¡éå†é›†åˆï¼Œå¯ä»¥åœ¨ç¬¬ä¸€æ¬¡éå†æ—¶åˆ›å»ºè¿­ä»£å™¨ï¼Œå¹¶åœ¨åç»­çš„éå†ä¸­é‡å¤ä½¿ç”¨è¯¥è¿­ä»£å™¨

  * åœ¨è¿­ä»£å™¨éå†è¿‡ç¨‹ä¸­ è‹¥ç”¨é›†åˆçš„æ–¹æ³• ( `add()` ã€`remove()` ) å¯¹é›†åˆè¿›è¡Œå¢åˆ æ“ä½œä¼šå‡ºç°*`ConcurrentModificationException`* --- å¹¶å‘ä¿®æ”¹å¼‚å¸¸ï¼Œè‹¥éœ€è¦ä¿®æ”¹é›†åˆï¼Œåº”ç”¨è¿­ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•

    ```java
    //è‹¥éœ€è¦ä¿®æ”¹é›†åˆï¼Œåº”ç”¨è¿­ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•
            Iterator<String> it = personList.iterator();
            while(it.hasNext()) {
                String r = it.next();
                if (r.equals("ä¸™")) {
                    it.remove();
                }
            }
            System.out.println("personListä½¿ç”¨ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•åï¼š" + personList);
    ```

    

* **æ™®é€šforå¾ªç¯**

  ç”±äºè¿™ç§æ–¹æ³•åŸºäºå…ƒç´ ç´¢å¼•è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥é€‚ç”¨äºå®ç°äº†`List`æ¥å£çš„é›†åˆç±»

  éƒ¨åˆ†ğŸŒ°ï¼š

  ```java
  //2.æ™®é€šforå¾ªç¯éå†
          for (int i = 0; i < personList.size(); i++) {
              String result2 = personList.get(i);
              System.out.println("personListæ™®é€šforå¾ªç¯éå†ï¼š" + result2);
          }
  ```

* **å¢å¼ºforå¾ªç¯**

  å¢å¼ºforå¾ªç¯åº•å±‚å®ç°å°±æ˜¯è¿­ä»£å™¨ å¯ä»¥çœ‹ä½œç®€åŒ–ç‰ˆçš„è¿­ä»£å™¨ï¼Œæ­¤æ—¶ä¸éœ€è¦æ‰‹åŠ¨è·å–è¿­ä»£å™¨å¯¹è±¡ï¼Œç”±ç¼–è¯‘å™¨å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆï¼Œä»¥æ­¤æ¥ç®€åŒ–è¿­ä»£å™¨çš„ä½¿ç”¨ã€‚ åªèƒ½ç”¨äºæ‰€æœ‰å®ç°äº† `Collection` æ¥å£ çš„é›†åˆç±»å’Œæ•°ç»„

  åŸºæœ¬æ ¼å¼ï¼š

  ```java
  //å¢å¼ºforå¾ªç¯æ ¼å¼
  for(å…ƒç´ æ•°æ®ç±»å‹ å˜é‡å ï¼š æ•°ç»„oré›†åˆ) {
       System.out.println(å˜é‡å) //æ“ä½œå…ƒç´ 
  }
  ```

  > æ³¨ï¼šå…¶ä¸­ å˜é‡åä»£è¡¨çš„å˜é‡ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹ä¸´æ—¶å˜é‡ åœ¨å¾ªç¯ä¸­è¡¨ç¤ºé›†åˆçš„æ¯ä¸€ä¸ªæ•°æ® å¯¹è¯¥å˜é‡è¿›è¡Œä¿®æ”¹ä¸ä¼šæ”¹å˜é›†åˆä¸­åŸæœ¬çš„æ•°æ®

  éƒ¨åˆ†ğŸŒ°ï¼š

  ```java
  //3.å¢å¼ºforå¾ªç¯éå†
          for (String result3 : personList) {
              System.out.println("personListå¢å¼ºforå¾ªç¯éå†:" + result3);
          }
  ```

* **forEach+Lambdaè¡¨è¾¾å¼**

  åœ¨Java8ä¸­ï¼Œ`Iterable` æ¥å£å¼•å…¥äº† `forEach()` æ–¹æ³•

  åŸºæœ¬æ ¼å¼ï¼š

  ```java
  void forEach(Consumer<? super T> action)
  ```

  * T æŒ‡é›†åˆä¸­å…ƒç´ çš„ç±»å‹
  * `Consumer` --ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå®ƒä½œä¸ºå‚æ•°ï¼Œæ¥å—å•ä¸ªè¾“å…¥å‚æ•°ä¸”ä¸è¿”å›ä»»ä½•ç»“æœ
  * actionå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼æˆ–æ–¹æ³•å¼•ç”¨ï¼Œå®šä¹‰äº†å¦‚ä½•å¤„ç†é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 

  éƒ¨åˆ†ğŸŒ°ï¼š

  ```java
   //4.forEach+Lambdaè¡¨è¾¾å¼éå†
          personList.forEach(result4 -> {
              System.out.println("personList forEach+Lambdaéå†ï¼š" + result4);
          }
          );
  ```




### ä½œä¸š

---

**Level 1**:

å¤ä¹ æœ¬èŠ‚åŠä¹‹å‰æ‰€è®²å†…å®¹ å¯è‡ªè¡Œæ‹“å±•å­¦ä¹ ç›¸å…³çŸ¥è¯†

**Level 2**:

[äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„](https://lanshanteam.feishu.cn/docx/HTNNd8QejoyvI1xjdU4c0XbVnMd#part-Y8QJdb9YKoaANNxUglncVnRZnIe) [æœ€å¤§æ­£æ–¹å½¢](https://lanshanteam.feishu.cn/docx/HTNNd8QejoyvI1xjdU4c0XbVnMd#part-ShlLdn6TjoDJpVx8EbmcpMplnQh)
